[TOC]

## [å˜é‡ä¸å¯å˜æ€§](https://rust-lang.tw/book-tw/ch03-01-variables-and-mutability.html#è®Šæ•¸èˆ‡å¯è®Šæ€§)

### [å˜é‡å’Œå¸¸é‡çš„åŒºåˆ«](https://kaisery.github.io/trpl-zh-cn/ch03-01-variables-and-mutability.html#å˜é‡å’Œå¸¸é‡çš„åŒºåˆ«)

ä¸å…è®¸æ”¹å˜å€¼çš„å˜é‡ï¼Œå¯èƒ½ä¼šä½¿ä½ æƒ³èµ·å¦ä¸€ä¸ªå¤§éƒ¨åˆ†ç¼–ç¨‹è¯­è¨€éƒ½æœ‰çš„æ¦‚å¿µï¼š**å¸¸é‡**ï¼ˆ*constants*ï¼‰ã€‚ç±»ä¼¼äºä¸å¯å˜å˜é‡ï¼Œå¸¸é‡æ˜¯ç»‘å®šåˆ°ä¸€ä¸ªåç§°çš„ä¸å…è®¸æ”¹å˜çš„å€¼ï¼Œä¸è¿‡å¸¸é‡ä¸å˜é‡è¿˜æ˜¯æœ‰ä¸€äº›åŒºåˆ«ã€‚

é¦–å…ˆï¼Œä¸å…è®¸å¯¹å¸¸é‡ä½¿ç”¨ `mut`ã€‚å¸¸é‡ä¸å…‰é»˜è®¤ä¸èƒ½å˜ï¼Œå®ƒæ€»æ˜¯ä¸èƒ½å˜ã€‚

å£°æ˜å¸¸é‡ä½¿ç”¨ `const` å…³é”®å­—è€Œä¸æ˜¯ `let`ï¼Œ<u>å¹¶ä¸” *å¿…é¡»* æ³¨æ˜å€¼çš„ç±»å‹ã€‚</u>åœ¨ä¸‹ä¸€éƒ¨åˆ†ï¼Œ[â€œæ•°æ®ç±»å‹â€](https://kaisery.github.io/trpl-zh-cn/ch03-02-data-types.html#data-types) ä¸­ä¼šä»‹ç»ç±»å‹å’Œç±»å‹æ³¨è§£ï¼Œç°åœ¨æ— éœ€å…³å¿ƒè¿™äº›ç»†èŠ‚ï¼Œè®°ä½æ€»æ˜¯æ ‡æ³¨ç±»å‹å³å¯ã€‚

å¸¸é‡å¯ä»¥åœ¨ä»»ä½•ä½œç”¨åŸŸä¸­å£°æ˜ï¼ŒåŒ…æ‹¬å…¨å±€ä½œç”¨åŸŸï¼Œè¿™åœ¨ä¸€ä¸ªå€¼éœ€è¦è¢«å¾ˆå¤šéƒ¨åˆ†çš„ä»£ç ç”¨åˆ°æ—¶å¾ˆæœ‰ç”¨ã€‚

æœ€åä¸€ä¸ªåŒºåˆ«æ˜¯ï¼Œå¸¸é‡åªèƒ½è¢«è®¾ç½®ä¸ºå¸¸é‡è¡¨è¾¾å¼ï¼Œè€Œä¸èƒ½æ˜¯å‡½æ•°è°ƒç”¨çš„ç»“æœï¼Œæˆ–ä»»ä½•å…¶ä»–åªèƒ½åœ¨è¿è¡Œæ—¶è®¡ç®—å‡ºçš„å€¼ã€‚

è¿™æ˜¯ä¸€ä¸ªå£°æ˜å¸¸é‡çš„ä¾‹å­ï¼Œå®ƒçš„åç§°æ˜¯ `MAX_POINTS`ï¼Œå€¼æ˜¯ 100,000ã€‚ï¼ˆRust å¸¸é‡çš„å‘½åè§„èŒƒæ˜¯ä½¿ç”¨ä¸‹åˆ’çº¿åˆ†éš”çš„å¤§å†™å­—æ¯å•è¯ï¼Œå¹¶ä¸”å¯ä»¥åœ¨æ•°å­—å­—é¢å€¼ä¸­æ’å…¥ä¸‹åˆ’çº¿æ¥æå‡å¯è¯»æ€§ï¼‰ï¼š

```rust
const MAX_POINTS: u32 = 100_000;
```

åœ¨å£°æ˜å®ƒçš„ä½œç”¨åŸŸä¹‹ä¸­ï¼Œå¸¸é‡åœ¨æ•´ä¸ªç¨‹åºç”Ÿå‘½å‘¨æœŸä¸­éƒ½æœ‰æ•ˆï¼Œè¿™ä½¿å¾—å¸¸é‡å¯ä»¥ä½œä¸ºå¤šå¤„ä»£ç ä½¿ç”¨çš„å…¨å±€èŒƒå›´çš„å€¼ï¼Œä¾‹å¦‚ä¸€ä¸ªæ¸¸æˆä¸­æ‰€æœ‰ç©å®¶å¯ä»¥è·å–çš„æœ€é«˜åˆ†æˆ–è€…å…‰é€Ÿã€‚

å°†éå¸ƒäºåº”ç”¨ç¨‹åºä¸­çš„ç¡¬ç¼–ç å€¼å£°æ˜ä¸ºå¸¸é‡ï¼Œèƒ½å¸®åŠ©åæ¥çš„ä»£ç ç»´æŠ¤äººå‘˜äº†è§£å€¼çš„æ„å›¾ã€‚å¦‚æœå°†æ¥éœ€è¦ä¿®æ”¹ç¡¬ç¼–ç å€¼ï¼Œä¹Ÿåªéœ€ä¿®æ”¹æ±‡èšäºä¸€å¤„çš„ç¡¬ç¼–ç å€¼ã€‚

### [éšè—ï¼ˆShadowingï¼‰](https://kaisery.github.io/trpl-zh-cn/ch03-01-variables-and-mutability.html#éšè—shadowing)

æ­£å¦‚åœ¨ç¬¬äºŒç« çŒœçŒœçœ‹æ¸¸æˆçš„ [â€œæ¯”è¾ƒçŒœæµ‹çš„æ•°å­—å’Œç§˜å¯†æ•°å­—â€](https://kaisery.github.io/trpl-zh-cn/ch02-00-guessing-game-tutorial.html#comparing-the-guess-to-the-secret-number) ä¸­æ‰€è®²ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªä¸ä¹‹å‰å˜é‡åŒåçš„æ–°å˜é‡ï¼Œè€Œæ–°å˜é‡ä¼š **éšè—** ä¹‹å‰çš„å˜é‡ã€‚Rustacean ä»¬ç§°ä¹‹ä¸ºç¬¬ä¸€ä¸ªå˜é‡è¢«ç¬¬äºŒä¸ª **éšè—** äº†ï¼Œè¿™æ„å‘³ç€ä½¿ç”¨è¿™ä¸ªå˜é‡æ—¶ä¼šçœ‹åˆ°ç¬¬äºŒä¸ªå€¼ã€‚å¯ä»¥ç”¨ç›¸åŒå˜é‡åç§°æ¥éšè—ä¸€ä¸ªå˜é‡ï¼Œä»¥åŠé‡å¤ä½¿ç”¨ `let` å…³é”®å­—æ¥å¤šæ¬¡éšè—

## [æ•°æ®ç±»å‹](https://kaisery.github.io/trpl-zh-cn/ch03-02-data-types.html#æ•°æ®ç±»å‹)

åœ¨ Rust ä¸­ï¼Œæ¯ä¸€ä¸ªå€¼éƒ½å±äºæŸä¸€ä¸ª **æ•°æ®ç±»å‹**ï¼ˆ*data type*ï¼‰ï¼Œè¿™å‘Šè¯‰ Rust å®ƒè¢«æŒ‡å®šä¸ºä½•ç§æ•°æ®ï¼Œä»¥ä¾¿æ˜ç¡®æ•°æ®å¤„ç†æ–¹å¼ã€‚æˆ‘ä»¬å°†çœ‹åˆ°ä¸¤ç±»æ•°æ®ç±»å‹å­é›†ï¼šæ ‡é‡ï¼ˆscalarï¼‰å’Œå¤åˆï¼ˆcompoundï¼‰ã€‚

è®°ä½ï¼ŒRust æ˜¯ **é™æ€ç±»å‹**ï¼ˆ*statically typed*ï¼‰è¯­è¨€ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨ç¼–è¯‘æ—¶å°±å¿…é¡»çŸ¥é“æ‰€æœ‰å˜é‡çš„ç±»å‹ã€‚æ ¹æ®å€¼åŠå…¶ä½¿ç”¨æ–¹å¼ï¼Œç¼–è¯‘å™¨é€šå¸¸å¯ä»¥æ¨æ–­å‡ºæˆ‘ä»¬æƒ³è¦ç”¨çš„ç±»å‹ã€‚å½“å¤šç§ç±»å‹å‡æœ‰å¯èƒ½æ—¶ï¼Œæ¯”å¦‚ç¬¬äºŒç« çš„ [â€œæ¯”è¾ƒçŒœæµ‹çš„æ•°å­—å’Œç§˜å¯†æ•°å­—â€](https://kaisery.github.io/trpl-zh-cn/ch02-00-guessing-game-tutorial.html#comparing-the-guess-to-the-secret-number) ä½¿ç”¨ `parse` å°† `String` è½¬æ¢ä¸ºæ•°å­—æ—¶ï¼Œå¿…é¡»å¢åŠ ç±»å‹æ³¨è§£ï¼Œåƒè¿™æ ·ï¼š

```rust
let guess: u32 = "42".parse().expect("Not a number!");
```

è¿™é‡Œå¦‚æœä¸æ·»åŠ ç±»å‹æ³¨è§£ï¼ŒRust ä¼šæ˜¾ç¤ºå¦‚ä¸‹é”™è¯¯ï¼Œè¿™è¯´æ˜ç¼–è¯‘å™¨éœ€è¦æˆ‘ä»¬æä¾›æ›´å¤šä¿¡æ¯ï¼Œæ¥äº†è§£æˆ‘ä»¬æƒ³è¦çš„ç±»å‹ï¼š

```text
error[E0282]: type annotations needed
 --> src/main.rs:2:9
  |
2 |     let guess = "42".parse().expect("Not a number!");
  |         ^^^^^
  |         |
  |         cannot infer type for `_`
  |         consider giving `guess` a type
```

ä½ ä¼šçœ‹åˆ°å…¶å®ƒæ•°æ®ç±»å‹çš„å„ç§ç±»å‹æ³¨è§£ã€‚

### [æ ‡é‡ç±»å‹](https://kaisery.github.io/trpl-zh-cn/ch03-02-data-types.html#æ ‡é‡ç±»å‹)

**æ ‡é‡**ï¼ˆ*scalar*ï¼‰ç±»å‹ä»£è¡¨ä¸€ä¸ªå•ç‹¬çš„å€¼ã€‚Rust æœ‰å››ç§åŸºæœ¬çš„æ ‡é‡ç±»å‹ï¼šæ•´å‹ã€æµ®ç‚¹å‹ã€å¸ƒå°”ç±»å‹å’Œå­—ç¬¦ç±»å‹ã€‚ä½ å¯èƒ½åœ¨å…¶ä»–è¯­è¨€ä¸­è§è¿‡å®ƒä»¬ã€‚è®©æˆ‘ä»¬æ·±å…¥äº†è§£å®ƒä»¬åœ¨ Rust ä¸­æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚

#### [æ•´å‹](https://kaisery.github.io/trpl-zh-cn/ch03-02-data-types.html#æ•´å‹)

**æ•´æ•°** æ˜¯ä¸€ä¸ªæ²¡æœ‰å°æ•°éƒ¨åˆ†çš„æ•°å­—ã€‚æˆ‘ä»¬åœ¨ç¬¬äºŒç« ä½¿ç”¨è¿‡ `u32` æ•´æ•°ç±»å‹ã€‚è¯¥ç±»å‹å£°æ˜è¡¨æ˜ï¼Œå®ƒå…³è”çš„å€¼åº”è¯¥æ˜¯ä¸€ä¸ªå æ® 32 æ¯”ç‰¹ä½çš„æ— ç¬¦å·æ•´æ•°ï¼ˆæœ‰ç¬¦å·æ•´æ•°ç±»å‹ä»¥ `i` å¼€å¤´è€Œä¸æ˜¯ `u`ï¼‰ã€‚è¡¨æ ¼ 3-1 å±•ç¤ºäº† Rust å†…å»ºçš„æ•´æ•°ç±»å‹ã€‚åœ¨æœ‰ç¬¦å·åˆ—å’Œæ— ç¬¦å·åˆ—ä¸­çš„æ¯ä¸€ä¸ªå˜ä½“ï¼ˆä¾‹å¦‚ï¼Œ`i16`ï¼‰éƒ½å¯ä»¥ç”¨æ¥å£°æ˜æ•´æ•°å€¼çš„ç±»å‹ã€‚

è¡¨æ ¼ 3-1: Rust ä¸­çš„æ•´å‹

| é•¿åº¦    | æœ‰ç¬¦å·  | æ— ç¬¦å·  |
| ------- | ------- | ------- |
| 8-bit   | `i8`    | `u8`    |
| 16-bit  | `i16`   | `u16`   |
| 32-bit  | `i32`   | `u32`   |
| 64-bit  | `i64`   | `u64`   |
| 128-bit | `i128`  | `u128`  |
| arch    | `isize` | `usize` |

#### [æµ®ç‚¹å‹](https://kaisery.github.io/trpl-zh-cn/ch03-02-data-types.html#æµ®ç‚¹å‹)

Rust ä¹Ÿæœ‰ä¸¤ä¸ªåŸç”Ÿçš„ **æµ®ç‚¹æ•°**ï¼ˆ*floating-point numbers*ï¼‰ç±»å‹ï¼Œå®ƒä»¬æ˜¯å¸¦å°æ•°ç‚¹çš„æ•°å­—ã€‚Rust çš„æµ®ç‚¹æ•°ç±»å‹æ˜¯ `f32` å’Œ `f64`ï¼Œåˆ†åˆ«å  32 ä½å’Œ 64 ä½ã€‚é»˜è®¤ç±»å‹æ˜¯ `f64`ï¼Œå› ä¸ºåœ¨ç°ä»£ CPU ä¸­ï¼Œå®ƒä¸ `f32` é€Ÿåº¦å‡ ä¹ä¸€æ ·ï¼Œä¸è¿‡ç²¾åº¦æ›´é«˜ã€‚

#### [å¸ƒå°”å‹](https://kaisery.github.io/trpl-zh-cn/ch03-02-data-types.html#å¸ƒå°”å‹)

æ­£å¦‚å…¶ä»–å¤§éƒ¨åˆ†ç¼–ç¨‹è¯­è¨€ä¸€æ ·ï¼ŒRust ä¸­çš„å¸ƒå°”ç±»å‹æœ‰ä¸¤ä¸ªå¯èƒ½çš„å€¼ï¼š`true` å’Œ `false`ã€‚Rust ä¸­çš„å¸ƒå°”ç±»å‹ä½¿ç”¨ `bool` è¡¨ç¤ºã€‚ä¾‹å¦‚ï¼š

æ–‡ä»¶å: src/main.rs

```rust
fn main() {
    let t = true;

    let f: bool = false; // æ˜¾å¼æŒ‡å®šç±»å‹æ³¨è§£
}
```

ä½¿ç”¨å¸ƒå°”å€¼çš„ä¸»è¦åœºæ™¯æ˜¯æ¡ä»¶è¡¨è¾¾å¼ï¼Œä¾‹å¦‚ `if` è¡¨è¾¾å¼ã€‚åœ¨ [â€œæ§åˆ¶æµâ€ï¼ˆâ€œControl Flowâ€ï¼‰](https://kaisery.github.io/trpl-zh-cn/ch03-05-control-flow.html#control-flow) éƒ¨åˆ†å°†ä»‹ç» `if` è¡¨è¾¾å¼åœ¨ Rust ä¸­å¦‚ä½•å·¥ä½œã€‚

#### [å­—ç¬¦ç±»å‹](https://kaisery.github.io/trpl-zh-cn/ch03-02-data-types.html#å­—ç¬¦ç±»å‹)

ç›®å‰ä¸ºæ­¢åªä½¿ç”¨åˆ°äº†æ•°å­—ï¼Œä¸è¿‡ Rust ä¹Ÿæ”¯æŒå­—æ¯ã€‚Rust çš„ `char` ç±»å‹æ˜¯è¯­è¨€ä¸­æœ€åŸç”Ÿçš„å­—æ¯ç±»å‹ï¼Œå¦‚ä¸‹ä»£ç å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨å®ƒã€‚ï¼ˆæ³¨æ„ `char` ç”±å•å¼•å·æŒ‡å®šï¼Œä¸åŒäºå­—ç¬¦ä¸²ä½¿ç”¨åŒå¼•å·ã€‚ï¼‰

æ–‡ä»¶å: src/main.rs

```rust
fn main() {
    let c = 'z';
    let z = 'â„¤';
    let heart_eyed_cat = 'ğŸ˜»';
}
```

<u>Rust çš„ `char` ç±»å‹çš„å¤§å°ä¸ºå››ä¸ªå­—èŠ‚(four bytes)</u>ï¼Œå¹¶ä»£è¡¨äº†ä¸€ä¸ª Unicode æ ‡é‡å€¼ï¼ˆUnicode Scalar Valueï¼‰ï¼Œè¿™æ„å‘³ç€å®ƒå¯ä»¥æ¯” ASCII è¡¨ç¤ºæ›´å¤šå†…å®¹ã€‚åœ¨ Rust ä¸­ï¼Œæ‹¼éŸ³å­—æ¯ï¼ˆAccented lettersï¼‰ï¼Œä¸­æ–‡ã€æ—¥æ–‡ã€éŸ©æ–‡ç­‰å­—ç¬¦ï¼Œemojiï¼ˆç»˜æ–‡å­—ï¼‰ä»¥åŠé›¶é•¿åº¦çš„ç©ºç™½å­—ç¬¦éƒ½æ˜¯æœ‰æ•ˆçš„ `char` å€¼ã€‚Unicode æ ‡é‡å€¼åŒ…å«ä» `U+0000` åˆ° `U+D7FF` å’Œ `U+E000` åˆ° `U+10FFFF` åœ¨å†…çš„å€¼ã€‚ä¸è¿‡ï¼Œâ€œå­—ç¬¦â€ å¹¶ä¸æ˜¯ä¸€ä¸ª Unicode ä¸­çš„æ¦‚å¿µï¼Œæ‰€ä»¥äººç›´è§‰ä¸Šçš„ â€œå­—ç¬¦â€ å¯èƒ½ä¸ Rust ä¸­çš„ `char` å¹¶ä¸ç¬¦åˆã€‚ç¬¬å…«ç« çš„ [â€œä½¿ç”¨å­—ç¬¦ä¸²å­˜å‚¨ UTF-8 ç¼–ç çš„æ–‡æœ¬â€](https://kaisery.github.io/trpl-zh-cn/ch08-02-strings.html#storing-utf-8-encoded-text-with-strings) ä¸­å°†è¯¦ç»†è®¨è®ºè¿™ä¸ªä¸»é¢˜ã€‚

### [å¤åˆç±»å‹](https://kaisery.github.io/trpl-zh-cn/ch03-02-data-types.html#å¤åˆç±»å‹)

**å¤åˆç±»å‹**ï¼ˆ*Compound types*ï¼‰å¯ä»¥å°†å¤šä¸ªå€¼ç»„åˆæˆä¸€ä¸ªç±»å‹ã€‚Rust æœ‰ä¸¤ä¸ªåŸç”Ÿçš„å¤åˆç±»å‹ï¼šå…ƒç»„ï¼ˆtupleï¼‰å’Œæ•°ç»„ï¼ˆarrayï¼‰ã€‚

#### [å…ƒç»„ç±»å‹](https://kaisery.github.io/trpl-zh-cn/ch03-02-data-types.html#å…ƒç»„ç±»å‹)

å…ƒç»„æ˜¯ä¸€ä¸ªå°†å¤šä¸ªå…¶ä»–ç±»å‹çš„å€¼ç»„åˆè¿›ä¸€ä¸ªå¤åˆç±»å‹çš„ä¸»è¦æ–¹å¼ã€‚å…ƒç»„é•¿åº¦å›ºå®šï¼šä¸€æ—¦å£°æ˜ï¼Œå…¶é•¿åº¦ä¸ä¼šå¢å¤§æˆ–ç¼©å°ã€‚

æˆ‘ä»¬ä½¿ç”¨åŒ…å«åœ¨åœ†æ‹¬å·ä¸­çš„é€—å·åˆ†éš”çš„å€¼åˆ—è¡¨æ¥åˆ›å»ºä¸€ä¸ªå…ƒç»„ã€‚å…ƒç»„ä¸­çš„æ¯ä¸€ä¸ªä½ç½®éƒ½æœ‰ä¸€ä¸ªç±»å‹ï¼Œè€Œä¸”è¿™äº›ä¸åŒå€¼çš„ç±»å‹ä¹Ÿä¸å¿…æ˜¯ç›¸åŒçš„ã€‚è¿™ä¸ªä¾‹å­ä¸­ä½¿ç”¨äº†å¯é€‰çš„ç±»å‹æ³¨è§£ï¼š

æ–‡ä»¶å: src/main.rs

```rust
fn main() {
    let tup: (i32, f64, u8) = (500, 6.4, 1);
}
```

`tup` å˜é‡ç»‘å®šåˆ°æ•´ä¸ªå…ƒç»„ä¸Šï¼Œå› ä¸ºå…ƒç»„æ˜¯ä¸€ä¸ªå•ç‹¬çš„å¤åˆå…ƒç´ ã€‚ä¸ºäº†ä»å…ƒç»„ä¸­è·å–å•ä¸ªå€¼ï¼Œå¯ä»¥ä½¿ç”¨æ¨¡å¼åŒ¹é…ï¼ˆpattern matchingï¼‰æ¥è§£æ„ï¼ˆdestructureï¼‰å…ƒç»„å€¼ï¼Œåƒè¿™æ ·ï¼š

æ–‡ä»¶å: src/main.rs

```rust
fn main() {
    let tup = (500, 6.4, 1);

    let (x, y, z) = tup;

    println!("The value of y is: {}", y);
}
```

ç¨‹åºé¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ªå…ƒç»„å¹¶ç»‘å®šåˆ° `tup` å˜é‡ä¸Šã€‚æ¥ç€ä½¿ç”¨äº† `let` å’Œä¸€ä¸ªæ¨¡å¼å°† `tup` åˆ†æˆäº†ä¸‰ä¸ªä¸åŒçš„å˜é‡ï¼Œ`x`ã€`y` å’Œ `z`ã€‚è¿™å«åš **è§£æ„**ï¼ˆ*destructuring*ï¼‰ï¼Œå› ä¸ºå®ƒå°†ä¸€ä¸ªå…ƒç»„æ‹†æˆäº†ä¸‰ä¸ªéƒ¨åˆ†ã€‚æœ€åï¼Œç¨‹åºæ‰“å°å‡ºäº† `y` çš„å€¼ï¼Œä¹Ÿå°±æ˜¯ `6.4`ã€‚

é™¤äº†ä½¿ç”¨æ¨¡å¼åŒ¹é…è§£æ„å¤–ï¼Œä¹Ÿå¯ä»¥<u>ä½¿ç”¨ç‚¹å·ï¼ˆ`.`ï¼‰åè·Ÿå€¼çš„ç´¢å¼•æ¥ç›´æ¥è®¿é—®å®ƒä»¬</u>ã€‚ä¾‹å¦‚ï¼š

æ–‡ä»¶å: src/main.rs

```rust
fn main() {
    let x: (i32, f64, u8) = (500, 6.4, 1);

    let five_hundred = x.0;

    let six_point_four = x.1;

    let one = x.2;
}
```

è¿™ä¸ªç¨‹åºåˆ›å»ºäº†ä¸€ä¸ªå…ƒç»„ï¼Œ`x`ï¼Œå¹¶æ¥ç€ä½¿ç”¨ç´¢å¼•ä¸ºæ¯ä¸ªå…ƒç´ åˆ›å»ºæ–°å˜é‡ã€‚è·Ÿå¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€ä¸€æ ·ï¼Œå…ƒç»„çš„ç¬¬ä¸€ä¸ªç´¢å¼•å€¼æ˜¯ 0ã€‚

#### [æ•°ç»„ç±»å‹](https://kaisery.github.io/trpl-zh-cn/ch03-02-data-types.html#æ•°ç»„ç±»å‹)

å¦ä¸€ä¸ªåŒ…å«å¤šä¸ªå€¼çš„æ–¹å¼æ˜¯ **æ•°ç»„**ï¼ˆ*array*ï¼‰ã€‚ä¸å…ƒç»„ä¸åŒï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ çš„ç±»å‹å¿…é¡»ç›¸åŒã€‚Rust ä¸­çš„æ•°ç»„ä¸ä¸€äº›å…¶ä»–è¯­è¨€ä¸­çš„æ•°ç»„ä¸åŒï¼Œå› ä¸º Rust ä¸­çš„æ•°ç»„æ˜¯å›ºå®šé•¿åº¦çš„ï¼šä¸€æ—¦å£°æ˜ï¼Œå®ƒä»¬çš„é•¿åº¦ä¸èƒ½å¢é•¿æˆ–ç¼©å°ã€‚

Rust ä¸­ï¼Œæ•°ç»„ä¸­çš„å€¼ä½äºä¸­æ‹¬å·å†…çš„é€—å·åˆ†éš”çš„åˆ—è¡¨ä¸­ï¼š

æ–‡ä»¶å: src/main.rs

```rust
fn main() {
    let a = [1, 2, 3, 4, 5];
}
```

å½“ä½ æƒ³è¦åœ¨æ ˆï¼ˆstackï¼‰è€Œä¸æ˜¯åœ¨å †ï¼ˆheapï¼‰ä¸Šä¸ºæ•°æ®åˆ†é…ç©ºé—´ï¼ˆç¬¬å››ç« å°†è®¨è®ºæ ˆä¸å †çš„æ›´å¤šå†…å®¹ï¼‰ï¼Œæˆ–è€…æ˜¯æƒ³è¦ç¡®ä¿æ€»æ˜¯æœ‰å›ºå®šæ•°é‡çš„å…ƒç´ æ—¶ï¼Œæ•°ç»„éå¸¸æœ‰ç”¨ã€‚ä½†æ˜¯æ•°ç»„å¹¶ä¸å¦‚ vector ç±»å‹çµæ´»ã€‚vector ç±»å‹æ˜¯æ ‡å‡†åº“æä¾›çš„ä¸€ä¸ª **å…è®¸** å¢é•¿å’Œç¼©å°é•¿åº¦çš„ç±»ä¼¼æ•°ç»„çš„é›†åˆç±»å‹ã€‚å½“ä¸ç¡®å®šæ˜¯åº”è¯¥ä½¿ç”¨æ•°ç»„è¿˜æ˜¯ vector çš„æ—¶å€™ï¼Œä½ å¯èƒ½åº”è¯¥ä½¿ç”¨ vectorã€‚ç¬¬å…«ç« ä¼šè¯¦ç»†è®¨è®º vectorã€‚

ä¸€ä¸ªä½ å¯èƒ½æƒ³è¦ä½¿ç”¨æ•°ç»„è€Œä¸æ˜¯ vector çš„ä¾‹å­æ˜¯ï¼Œå½“ç¨‹åºéœ€è¦çŸ¥é“ä¸€å¹´ä¸­æœˆä»½çš„åå­—æ—¶ã€‚ç¨‹åºä¸å¤§å¯èƒ½ä¼šå»å¢åŠ æˆ–å‡å°‘æœˆä»½ã€‚è¿™æ—¶ä½ å¯ä»¥ä½¿ç”¨æ•°ç»„ï¼Œå› ä¸ºæˆ‘ä»¬çŸ¥é“å®ƒæ€»æ˜¯åŒ…å« 12 ä¸ªå…ƒç´ ï¼š

```rust
let months = ["January", "February", "March", "April", "May", "June", "July",
              "August", "September", "October", "November", "December"];
```

å¯ä»¥åƒè¿™æ ·ç¼–å†™æ•°ç»„çš„ç±»å‹ï¼šåœ¨æ–¹æ‹¬å·ä¸­åŒ…å«æ¯ä¸ªå…ƒç´ çš„ç±»å‹ï¼Œåè·Ÿåˆ†å·ï¼Œå†åè·Ÿæ•°ç»„å…ƒç´ çš„æ•°é‡ã€‚

```rust
let a: [i32; 5] = [1, 2, 3, 4, 5];
```

è¿™é‡Œï¼Œ`i32` æ˜¯æ¯ä¸ªå…ƒç´ çš„ç±»å‹ã€‚åˆ†å·ä¹‹åï¼Œæ•°å­— `5` è¡¨æ˜è¯¥æ•°ç»„åŒ…å«äº”ä¸ªå…ƒç´ ã€‚

ä»¥è¿™ç§æ–¹å¼ç¼–å†™æ•°ç»„çš„ç±»å‹çœ‹èµ·æ¥ç±»ä¼¼äºåˆå§‹åŒ–æ•°ç»„çš„å¦ä¸€ç§è¯­æ³•ï¼šå¦‚æœè¦ä¸ºæ¯ä¸ªå…ƒç´ åˆ›å»ºåŒ…å«ç›¸åŒå€¼çš„æ•°ç»„ï¼Œå¯ä»¥æŒ‡å®šåˆå§‹å€¼ï¼Œåè·Ÿåˆ†å·ï¼Œç„¶ååœ¨æ–¹æ‹¬å·ä¸­æŒ‡å®šæ•°ç»„çš„é•¿åº¦ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```rust
let a = [3; 5];
```

å˜é‡åä¸º `a` çš„æ•°ç»„å°†åŒ…å« `5` ä¸ªå…ƒç´ ï¼Œè¿™äº›å…ƒç´ çš„å€¼æœ€åˆéƒ½å°†è¢«è®¾ç½®ä¸º `3`ã€‚è¿™ç§å†™æ³•ä¸ `let a = [3, 3, 3, 3, 3];` æ•ˆæœç›¸åŒï¼Œä½†æ›´ç®€æ´ã€‚

##### [è®¿é—®æ•°ç»„å…ƒç´ ](https://kaisery.github.io/trpl-zh-cn/ch03-02-data-types.html#è®¿é—®æ•°ç»„å…ƒç´ )

æ•°ç»„æ˜¯ä¸€æ•´å—åˆ†é…åœ¨æ ˆä¸Šçš„å†…å­˜ã€‚å¯ä»¥ä½¿ç”¨ç´¢å¼•æ¥è®¿é—®æ•°ç»„çš„å…ƒç´ ï¼Œåƒè¿™æ ·ï¼š

æ–‡ä»¶å: src/main.rs

```rust
fn main() {
    let a = [1, 2, 3, 4, 5];

    let first = a[0];
    let second = a[1];
}
```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå«åš `first` çš„å˜é‡çš„å€¼æ˜¯ `1`ï¼Œå› ä¸ºå®ƒæ˜¯æ•°ç»„ç´¢å¼• `[0]` çš„å€¼ã€‚å˜é‡ `second` å°†ä¼šæ˜¯æ•°ç»„ç´¢å¼• `[1]` çš„å€¼ `2`ã€‚

##### [æ— æ•ˆçš„æ•°ç»„å…ƒç´ è®¿é—®](https://kaisery.github.io/trpl-zh-cn/ch03-02-data-types.html#æ— æ•ˆçš„æ•°ç»„å…ƒç´ è®¿é—®)

å¦‚æœæˆ‘ä»¬è®¿é—®æ•°ç»„ç»“å°¾ä¹‹åçš„å…ƒç´ ä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿæ¯”å¦‚ä½ å°†ä¸Šé¢çš„ä¾‹å­æ”¹æˆä¸‹é¢è¿™æ ·ï¼Œè¿™å¯ä»¥ç¼–è¯‘é€šè¿‡ï¼Œä¸è¿‡åœ¨è¿è¡Œæ—¶ä¼šå› é”™è¯¯è€Œé€€å‡ºï¼š

æ–‡ä»¶å: src/main.rs

```rust
fn main() {
    let a = [1, 2, 3, 4, 5];
    let index = 10;

    let element = a[index];

    println!("The value of element is: {}", element);
}
```

ä½¿ç”¨ `cargo run` è¿è¡Œä»£ç åä¼šäº§ç”Ÿå¦‚ä¸‹ç»“æœï¼š

```text
$ cargo run
   Compiling arrays v0.1.0 (file:///projects/arrays)
    Finished dev [unoptimized + debuginfo] target(s) in 0.31 secs
     Running `target/debug/arrays`
thread 'main' panicked at 'index out of bounds: the len is 5 but the index is
 10', src/main.rs:5:19
note: Run with `RUST_BACKTRACE=1` for a backtrace.
```

~~ç¼–è¯‘å¹¶æ²¡æœ‰äº§ç”Ÿä»»ä½•é”™è¯¯ï¼Œä¸è¿‡ç¨‹åºä¼šå‡ºç°ä¸€ä¸ª **è¿è¡Œæ—¶**ï¼ˆ*runtime*ï¼‰é”™è¯¯å¹¶ä¸”ä¸ä¼šæˆåŠŸé€€å‡ºã€‚å½“å°è¯•ç”¨ç´¢å¼•è®¿é—®ä¸€ä¸ªå…ƒç´ æ—¶ï¼ŒRust ä¼šæ£€æŸ¥æŒ‡å®šçš„ç´¢å¼•æ˜¯å¦å°äºæ•°ç»„çš„é•¿åº¦ã€‚å¦‚æœç´¢å¼•è¶…å‡ºäº†æ•°ç»„é•¿åº¦ï¼ŒRust ä¼š *panic*ï¼Œè¿™æ˜¯ Rust æœ¯è¯­ï¼Œå®ƒç”¨äºç¨‹åºå› ä¸ºé”™è¯¯è€Œé€€å‡ºçš„æƒ…å†µã€‚~~

~~è¿™æ˜¯ç¬¬ä¸€ä¸ªåœ¨å®æˆ˜ä¸­é‡åˆ°çš„ Rust å®‰å…¨åŸåˆ™çš„ä¾‹å­ã€‚åœ¨å¾ˆå¤šåº•å±‚è¯­è¨€ä¸­ï¼Œå¹¶æ²¡æœ‰è¿›è¡Œè¿™ç±»æ£€æŸ¥ï¼Œè¿™æ ·å½“æä¾›äº†ä¸€ä¸ªä¸æ­£ç¡®çš„ç´¢å¼•æ—¶ï¼Œå°±ä¼šè®¿é—®æ— æ•ˆçš„å†…å­˜ã€‚é€šè¿‡ç«‹å³é€€å‡ºè€Œä¸æ˜¯å…è®¸å†…å­˜è®¿é—®å¹¶ç»§ç»­æ‰§è¡Œï¼ŒRust è®©ä½ é¿å¼€æ­¤ç±»é”™è¯¯ã€‚ç¬¬ä¹ç« ä¼šè®¨è®ºæ›´å¤š Rust çš„é”™è¯¯å¤„ç†ã€‚~~

æ–°ç‰ˆçš„ruståœ¨buildçš„æ—¶å€™å°±ä¼šæŠ¥é”™äº†ï¼ˆä¸è¿‡checkå€’æ˜¯æ²¡æœ‰é”™çš„ï¼‰

## [å‡½æ•°](https://kaisery.github.io/trpl-zh-cn/ch03-03-how-functions-work.html#å‡½æ•°)

### [å‡½æ•°å‚æ•°](https://kaisery.github.io/trpl-zh-cn/ch03-03-how-functions-work.html#å‡½æ•°å‚æ•°)

```rust
fn main() {
    another_function(5, 6);
}

fn another_function(x: i32, y: i32) {
    println!("The value of x is: {}", x);
    println!("The value of y is: {}", y);
}
```

### [å…·æœ‰è¿”å›å€¼çš„å‡½æ•°](https://kaisery.github.io/trpl-zh-cn/ch03-03-how-functions-work.html#å…·æœ‰è¿”å›å€¼çš„å‡½æ•°)

```rust
fn main() {
    let x = plus_one(5);

    println!("The value of x is: {}", x);
}

fn plus_one(x: i32) -> i32 {
    x + 1
}
```

è¿è¡Œä»£ç ä¼šæ‰“å°å‡º `The value of x is: 6`ã€‚ä½†å¦‚æœåœ¨åŒ…å« `x + 1` çš„è¡Œå°¾åŠ ä¸Šä¸€ä¸ªåˆ†å·ï¼ŒæŠŠå®ƒä»è¡¨è¾¾å¼å˜æˆè¯­å¥ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°ä¸€ä¸ªé”™è¯¯ã€‚

æ–‡ä»¶å: src/main.rs

```rust
fn main() {
    let x = plus_one(5);

    println!("The value of x is: {}", x);
}

fn plus_one(x: i32) -> i32 {
    x + 1;
}
```

è¿è¡Œä»£ç ä¼šäº§ç”Ÿä¸€ä¸ªé”™è¯¯ï¼Œå¦‚ä¸‹ï¼š

```text
error[E0308]: mismatched types
 --> src/main.rs:7:28
  |
7 |   fn plus_one(x: i32) -> i32 {
  |  ____________________________^
8 | |     x + 1;
  | |          - help: consider removing this semicolon
9 | | }
  | |_^ expected i32, found ()
  |
  = note: expected type `i32`
             found type `()`
```

ä¸»è¦çš„é”™è¯¯ä¿¡æ¯ï¼Œâ€œmismatched typesâ€ï¼ˆç±»å‹ä¸åŒ¹é…ï¼‰ï¼Œæ­ç¤ºäº†ä»£ç çš„æ ¸å¿ƒé—®é¢˜ã€‚å‡½æ•° `plus_one` çš„å®šä¹‰è¯´æ˜å®ƒè¦è¿”å›ä¸€ä¸ª `i32` ç±»å‹çš„å€¼ï¼Œ==ä¸è¿‡è¯­å¥å¹¶ä¸ä¼šè¿”å›å€¼==ï¼Œä½¿ç”¨ç©ºå…ƒç»„ `()` è¡¨ç¤ºä¸è¿”å›å€¼ã€‚å› ä¸ºä¸è¿”å›å€¼ä¸å‡½æ•°å®šä¹‰ç›¸çŸ›ç›¾ï¼Œä»è€Œå‡ºç°ä¸€ä¸ªé”™è¯¯ã€‚åœ¨è¾“å‡ºä¸­ï¼ŒRust æä¾›äº†ä¸€æ¡ä¿¡æ¯ï¼Œå¯èƒ½æœ‰åŠ©äºçº æ­£è¿™ä¸ªé”™è¯¯ï¼šå®ƒå»ºè®®åˆ é™¤åˆ†å·ï¼Œè¿™ä¼šä¿®å¤è¿™ä¸ªé”™è¯¯ã€‚

## [æ³¨é‡Š](https://kaisery.github.io/trpl-zh-cn/ch03-04-comments.html#æ³¨é‡Š)

## [æ§åˆ¶æµ](https://kaisery.github.io/trpl-zh-cn/ch03-05-control-flow.html#æ§åˆ¶æµ)

### [`if` è¡¨è¾¾å¼](https://kaisery.github.io/trpl-zh-cn/ch03-05-control-flow.html#if-è¡¨è¾¾å¼)

å¦å¤–å€¼å¾—æ³¨æ„çš„æ˜¯ä»£ç ä¸­çš„æ¡ä»¶ **å¿…é¡»** æ˜¯ `bool` å€¼ã€‚å¦‚æœæ¡ä»¶ä¸æ˜¯ `bool` å€¼ï¼Œæˆ‘ä»¬å°†å¾—åˆ°ä¸€ä¸ªé”™è¯¯ã€‚ä¾‹å¦‚ï¼Œå°è¯•è¿è¡Œä»¥ä¸‹ä»£ç ï¼š

æ–‡ä»¶å: src/main.rs

```rust
fn main() {
    let number = 3;

    if number {
        println!("number was three");
    }
}
```

è¿™é‡Œ `if` æ¡ä»¶çš„å€¼æ˜¯ `3`ï¼ŒRust æŠ›å‡ºäº†ä¸€ä¸ªé”™è¯¯ï¼š

```text
error[E0308]: mismatched types
 --> src/main.rs:4:8
  |
4 |     if number {
  |        ^^^^^^ expected bool, found integer
  |
  = note: expected type `bool`
             found type `{integer}`
```

è¿™ä¸ªé”™è¯¯è¡¨æ˜ Rust æœŸæœ›ä¸€ä¸ª `bool` å´å¾—åˆ°äº†ä¸€ä¸ªæ•´æ•°ã€‚ä¸åƒ Ruby æˆ– JavaScript è¿™æ ·çš„è¯­è¨€ï¼ŒRust å¹¶ä¸ä¼šå°è¯•è‡ªåŠ¨åœ°å°†éå¸ƒå°”å€¼è½¬æ¢ä¸ºå¸ƒå°”å€¼ã€‚å¿…é¡»æ€»æ˜¯æ˜¾å¼åœ°ä½¿ç”¨å¸ƒå°”å€¼ä½œä¸º `if` çš„æ¡ä»¶ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæƒ³è¦ `if` ä»£ç å—åªåœ¨ä¸€ä¸ªæ•°å­—ä¸ç­‰äº `0` æ—¶æ‰§è¡Œï¼Œå¯ä»¥æŠŠ `if` è¡¨è¾¾å¼ä¿®æ”¹æˆä¸‹é¢è¿™æ ·ï¼š

æ–‡ä»¶å: src/main.rs

```rust
fn main() {
    let number = 3;

    if number != 0 {
        println!("number was something other than zero");
    }
}
```

è¿è¡Œä»£ç ä¼šæ‰“å°å‡º `number was something other than zero`ã€‚

#### [åœ¨ `let` è¯­å¥ä¸­ä½¿ç”¨ `if`](https://kaisery.github.io/trpl-zh-cn/ch03-05-control-flow.html#åœ¨-let-è¯­å¥ä¸­ä½¿ç”¨-if)

å› ä¸º `if` æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ `let` è¯­å¥çš„å³ä¾§ä½¿ç”¨å®ƒï¼Œä¾‹å¦‚åœ¨ç¤ºä¾‹ 3-2 ä¸­ï¼š

æ–‡ä»¶å: src/main.rs

```rust
fn main() {
    let condition = true;
    let number = if condition {
        5
    } else {
        6
    };

    println!("The value of number is: {}", number);
}
```

ç¤ºä¾‹ 3-2ï¼šå°† `if` è¡¨è¾¾å¼çš„è¿”å›å€¼èµ‹ç»™ä¸€ä¸ªå˜é‡

`number` å˜é‡å°†ä¼šç»‘å®šåˆ°è¡¨ç¤º `if` è¡¨è¾¾å¼ç»“æœçš„å€¼ä¸Šã€‚è¿è¡Œè¿™æ®µä»£ç çœ‹çœ‹ä¼šå‡ºç°ä»€ä¹ˆï¼š

```text
$ cargo run
   Compiling branches v0.1.0 (file:///projects/branches)
    Finished dev [unoptimized + debuginfo] target(s) in 0.30 secs
     Running `target/debug/branches`
The value of number is: 5
```

è®°ä½ï¼Œä»£ç å—çš„å€¼æ˜¯å…¶æœ€åä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼Œè€Œæ•°å­—æœ¬èº«å°±æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ•´ä¸ª `if` è¡¨è¾¾å¼çš„å€¼å–å†³äºå“ªä¸ªä»£ç å—è¢«æ‰§è¡Œã€‚è¿™æ„å‘³ç€ `if` çš„æ¯ä¸ªåˆ†æ”¯çš„å¯èƒ½çš„è¿”å›å€¼éƒ½å¿…é¡»æ˜¯ç›¸åŒç±»å‹ï¼›åœ¨ç¤ºä¾‹ 3-2 ä¸­ï¼Œ`if` åˆ†æ”¯å’Œ `else` åˆ†æ”¯çš„ç»“æœéƒ½æ˜¯ `i32` æ•´å‹ã€‚å¦‚æœå®ƒä»¬çš„ç±»å‹ä¸åŒ¹é…ï¼Œå¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼Œåˆ™ä¼šå‡ºç°ä¸€ä¸ªé”™è¯¯ï¼š

æ–‡ä»¶å: src/main.rs

```rust
fn main() {
    let condition = true;

    let number = if condition {
        5
    } else {
        "six"
    };

    println!("The value of number is: {}", number);
}
```

å½“ç¼–è¯‘è¿™æ®µä»£ç æ—¶ï¼Œä¼šå¾—åˆ°ä¸€ä¸ªé”™è¯¯ã€‚`if` å’Œ `else` åˆ†æ”¯çš„å€¼ç±»å‹æ˜¯ä¸ç›¸å®¹çš„ï¼ŒåŒæ—¶ Rust ä¹Ÿå‡†ç¡®åœ°æŒ‡å‡ºåœ¨ç¨‹åºä¸­çš„ä½•å¤„å‘ç°çš„è¿™ä¸ªé—®é¢˜ï¼š

```text
error[E0308]: if and else have incompatible types
 --> src/main.rs:4:18
  |
4 |       let number = if condition {
  |  __________________^
5 | |         5
6 | |     } else {
7 | |         "six"
8 | |     };
  | |_____^ expected integer, found &str
  |
  = note: expected type `{integer}`
             found type `&str`
```

`if` ä»£ç å—ä¸­çš„è¡¨è¾¾å¼è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œè€Œ `else` ä»£ç å—ä¸­çš„è¡¨è¾¾å¼è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚==è¿™ä¸å¯è¡Œï¼Œå› ä¸ºå˜é‡å¿…é¡»åªæœ‰ä¸€ä¸ªç±»å‹ã€‚Rust éœ€è¦åœ¨ç¼–è¯‘æ—¶å°±ç¡®åˆ‡çš„çŸ¥é“ `number` å˜é‡çš„ç±»å‹ï¼Œè¿™æ ·å®ƒå°±å¯ä»¥åœ¨ç¼–è¯‘æ—¶éªŒè¯åœ¨æ¯å¤„ä½¿ç”¨çš„ `number` å˜é‡çš„ç±»å‹æ˜¯æœ‰æ•ˆçš„ã€‚==Rust å¹¶ä¸èƒ½å¤Ÿåœ¨ `number` çš„ç±»å‹åªèƒ½åœ¨è¿è¡Œæ—¶ç¡®å®šçš„æƒ…å†µä¸‹å·¥ä½œï¼›è¿™æ ·ä¼šä½¿ç¼–è¯‘å™¨å˜å¾—æ›´å¤æ‚è€Œä¸”åªèƒ½ä¸ºä»£ç æä¾›æ›´å°‘çš„ä¿éšœï¼Œå› ä¸ºå®ƒä¸å¾—ä¸è®°å½•æ‰€æœ‰å˜é‡çš„å¤šç§å¯èƒ½çš„ç±»å‹ã€‚

### [ä½¿ç”¨å¾ªç¯é‡å¤æ‰§è¡Œ](https://kaisery.github.io/trpl-zh-cn/ch03-05-control-flow.html#ä½¿ç”¨å¾ªç¯é‡å¤æ‰§è¡Œ)

#### [ä»å¾ªç¯è¿”å›](https://kaisery.github.io/trpl-zh-cn/ch03-05-control-flow.html#ä»å¾ªç¯è¿”å›)

`loop` çš„ä¸€ä¸ªç”¨ä¾‹æ˜¯é‡è¯•å¯èƒ½ä¼šå¤±è´¥çš„æ“ä½œï¼Œæ¯”å¦‚æ£€æŸ¥çº¿ç¨‹æ˜¯å¦å®Œæˆäº†ä»»åŠ¡ã€‚ç„¶è€Œä½ å¯èƒ½ä¼šéœ€è¦å°†æ“ä½œçš„ç»“æœä¼ é€’ç»™å…¶å®ƒçš„ä»£ç ã€‚å¦‚æœå°†è¿”å›å€¼åŠ å…¥ä½ ç”¨æ¥åœæ­¢å¾ªç¯çš„ `break` è¡¨è¾¾å¼ï¼Œå®ƒä¼šè¢«åœæ­¢çš„å¾ªç¯è¿”å›ï¼š

```rust
fn main() {
    let mut counter = 0;

    let result = loop {
        counter += 1;

        if counter == 10 {
            break counter * 2;
        }
    };

    println!("The result is {}", result);
}
```

åœ¨å¾ªç¯ä¹‹å‰ï¼Œæˆ‘ä»¬å£°æ˜äº†ä¸€ä¸ªåä¸º `counter` çš„å˜é‡å¹¶åˆå§‹åŒ–ä¸º `0`ã€‚æ¥ç€å£°æ˜äº†ä¸€ä¸ªåä¸º `result` æ¥å­˜æ”¾å¾ªç¯çš„è¿”å›å€¼ã€‚åœ¨å¾ªç¯çš„æ¯ä¸€æ¬¡è¿­ä»£ä¸­ï¼Œæˆ‘ä»¬å°† `counter` å˜é‡åŠ  `1`ï¼Œæ¥ç€æ£€æŸ¥è®¡æ•°æ˜¯å¦ç­‰äº `10`ã€‚å½“ç›¸ç­‰æ—¶ï¼Œä½¿ç”¨ `break` å…³é”®å­—è¿”å›å€¼ `counter * 2`ã€‚å¾ªç¯ä¹‹åï¼Œæˆ‘ä»¬é€šè¿‡åˆ†å·ç»“æŸèµ‹å€¼ç»™ `result` çš„è¯­å¥ã€‚æœ€åæ‰“å°å‡º `result` çš„å€¼ï¼Œä¹Ÿå°±æ˜¯ 20ã€‚

#### [`while` æ¡ä»¶å¾ªç¯](https://kaisery.github.io/trpl-zh-cn/ch03-05-control-flow.html#while-æ¡ä»¶å¾ªç¯)

```rust
fn main() {
    let mut number = 3;

    while number != 0 {
        println!("{}!", number);

        number = number - 1;
    }

    println!("LIFTOFF!!!");
}
```



#### [ä½¿ç”¨ `for` éå†é›†åˆ](https://kaisery.github.io/trpl-zh-cn/ch03-05-control-flow.html#ä½¿ç”¨-for-éå†é›†åˆ)

```rust
fn main() {
    let a = [10, 20, 30, 40, 50];

    for element in a.iter() {
        println!("the value is: {}", element);
    }
}
```

```rust
fn main() {
    for number in 1..4 {
        println!("{}!", number);
    }
    println!("LIFTOFF!!!");
}
```

```rust
fn main() {
    for number in (1..4).rev() {
        println!("{}!", number);
    }
    println!("LIFTOFF!!!");
}
```

